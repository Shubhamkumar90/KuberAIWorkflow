## KuberAI Workflow
This project provides an AI-powered assistant for gold investments. It can answer user queries related to gold SIP, digital gold, investment strategies, and more.

The system also allows users to purchase gold virtually and keeps track of their total holdings, amount invested.

I followed a modular, API-driven approach to build this project:
This api is hosted using Render.

<b>API LINK:</b> https://kuberaiworkflow.onrender.com
### Flask API Design
<ul>
    <li>Built a RESTful Flask API with clean routing.</li>
    <li>Designed two main endpoints:</li>
    <ul>
        <li>/chat → Handles AI-powered responses.</li>
        <li>/buy_gold → Simulates gold purchase and updates holdings.</li>
    </ul>
</ul>

### AI-Driven Query Handling
<ul>
<!-- <li>First it checks the query is related to gold investement or not, if it is related to it then response will be generated by OpenAi API.</li> -->
<li>Integrated OpenAI API to handle user queries intelligently, If the query related to gold investement query else it will ask for queries related to gold investement only.</li>

<li>Implemented is_gold_investment_query() to classify user questions.</li>

<li>Used get_gold_investment_response() to generate personalized AI responses and nudge the user to invest.</li>
</ul>

### Database Management
<ul>
<li>Used SQLAlchemy ORM for smooth database integration.</li>
<li>Implemented models for:</li>
<ul>
    <li>Users</li>
    <li>GoldPurchase</li>
    <li>ChatHistory</li>
</ul>
<li>Stored chat history, transactions, and user profiles.</li>
</ul>

### Tech Stack
<ul>
    <li>Backend → Flask (Python)</li>
    <li>Database → NeonDB (PostgreSQL via SQLAlchemy)</li>
    <li>AI Integration → OpenAI API</li>
</ul>

### 1. API Endpoints
POST /chat <br>
<b>Request Body:</b>

```
{
  "user_id": "user123",
  "message": "Should I invest in digital gold?"
}
```
<b>Response:</b>

```
{
  "reply": "Digital gold is a safe investment if you want flexibility...",
  "user_id": "user123",
  "intent": "gold_investment_query",
  "investment_url": "/buy_gold",
  "status": "success"
}
```
### 2. Buy Gold Endpoint
POST /buy_gold <br>
<b>Request Body:</b>
```
{
  "user_id": "user123",
  "user_name": "Tom",
  "user_email": "tom@gmail.com",
  "user_phone": "9876543210",
  "amount_inr": 1500
}
```
<b>Response:</b>
```
{
  "message": "Gold purchase successful!",
  "transaction_details": {
    "transaction_id": "TXN_ABC123XYZ",
    "user_id": "user123",
    "amount_invested": 1500,
    "gold_purchased_grams": 0.24,
    "gold_price_per_gram": 6247.5,
    "purchase_date": "2025-08-28T14:25:10",
    "status": "completed"
  },
  "total_gold_grams": 0.72,
  "total_invested_inr": 4500,
  "current_value_inr": 4498.2,
  "success": "True"
}
```

### Setup & Installation

#### 1. Clone the Repository
```
git clone https://github.com/yourusername/gold-investment-api.git
cd gold-investment-api
```
#### 2. Create and setup Virtual Environment
Create a .env file in the root folder:
```
DATABASE_URL=your_database_url
OPENAI=your_openai_api_key
```
#### 3. Install Dependencies
```
pip install -r requirements.txt
```
#### 4. Run the Server
```
python app.py
```
API will run on → http://127.0.0.1:5000